## spin lock

自旋锁自旋锁用于保护短的代码段，其中只包含少量C语句，因此会很快执行完毕。

*（1）如果内核中其他地方尚未获得lock，则由当前处理器获取。其他处理器不能再进入lock保护的代码范围。
*（2）如果lock已经由另一个处理器获得，spin_lock进入一个无限循环，重复地检查lock是否已经由spin_unlock释放（自旋锁因此得名）。如果已经释放，则获得lock，并进入临界区。
spin_lock定义为一个原子操作，在获得自旋锁的情况下可防止竞态条件出现。